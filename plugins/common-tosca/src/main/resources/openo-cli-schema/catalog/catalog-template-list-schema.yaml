openo_cmd_schema_version: 1.0
name: catalog-template-list
description: List service templates by filter conditions from Open-O
service:
  name: catalog
  version: v1

parameters:
  - name: status
    description: Template status
    scope: short
    type: string
    short_option: n
    long_option: status
    is_optional: false
  - name: deletion-pending
    description: Template delay to delete
    scope: short
    type: string
    short_option: o
    long_option: deletion-pending
    is_optional: false
results:
  direction: landscape
  attributes:
    - name: id
      description: Template Id
      scope: short
      type: string
    - name: template-name
      description: Service template name
      scope: short
      type: string
    - name: vendor
      description: Template vendor
      scope: short
      type: string
    - name: version
      description: Template version
      scope: short
      type: string
    - name: csar-id
      description: Template csarId
      scope: short
      type: string
    - name: type
      description: Template type
      scope: short
      type: string
    - name: download-uri
      description: Template downloadUri
      scope: short
      type: string
    - name: input-param
      description: Template input parameters
      scope: short
      type: json
http:
  request:
    uri: /servicetemplates?status=${status}&deletionPending=${deletion-pending}
    method: GET
  success_codes:
    - 201
    - 200
  result_map:
    id: $b{$.serviceTemplateId}
    template-name: $b{$.templateName}
    vendor: $b{$.vendor}
    version: $b{$.version}
    csar-id: $b{$.csarId}
    type: $b{$.type}
    download-uri: $b{$.downloadUri}
    input-param: $b{$.inputs}
  sample_response:
    body:'{"serviceTemplateId":"string","templateName":"string","vendor":"string","version":"string","csarId":"string","type":"string","downloadUri":"string","inputs":"string","outputs":"string","operations":"string","substitution":"string"}'